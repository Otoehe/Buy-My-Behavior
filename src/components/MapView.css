/* src/components/MapView.css */

/* ===== Контейнер мапи: без джиттера, незалежний від vh ===== */
.map-view-container {
  /* ключ: фіксуємо карту в області під навбаром */
  position: fixed;
  top: var(--nav-h, 56px); /* висота твого NavigationBar */
  left: 0;
  right: 0;
  bottom: 0;

  /* тепер висоту не рахуємо: контейнер займає все між top..bottom */
  height: auto;
  min-height: 0;

  overflow: hidden;
  overscroll-behavior: none;
  isolation: isolate; /* окремий стек шарів, ніщо «знизу» не перекриє */

  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Мапа займає весь простір контейнера */
.map-container {
  width: 100%;
  height: 100%;
  z-index: 1;
}

/* ===== Оверлей сторісбару ===== */
.storybar-overlay {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  z-index: 1100;
  pointer-events: none;
}
.storybar-overlay .story-bar { pointer-events: auto; }

/* ===== Стрічка сторісів ===== */
.story-bar {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  background-color: #ffffff;
  border-radius: 0;
  box-shadow: none;
  position: relative;
  z-index: 1000;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
}

/* ===== Кружечки ===== */
.story-circle {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  border: 2px solid #ffffff;
  background-color: #f6f7f9;
  box-shadow: 0 4px 12px rgba(0,0,0,.15);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  cursor: pointer;
  flex-shrink: 0;
  transition: transform .12s ease, box-shadow .12s ease;
}
.story-circle:active { transform: scale(.96); }

.story-avatar-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* Перший кружок — ПЛЮС */
.story-circle.plus {
  background: linear-gradient(180deg, #f3f4f6, #e5e7eb);
  border: 2px solid #ffffff;
  box-shadow: 0 4px 12px rgba(0,0,0,.15);
}
.plus-sign {
  font-size: 28px;
  font-weight: 900;
  color: #111;
  user-select: none;
  transform: translateY(-1px);
}

/* ===== Маячки на карті ===== */
.custom-marker.small {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid white;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
}
.marker-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* ===== Рейтинг (10 зірок) ===== */
.rating-row{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  margin:6px 0 14px;
  white-space:nowrap;
}
.stars-wrap{
  position:relative;
  width:172px;
  height:18px;
  line-height:18px;
  font-size:17px;
  letter-spacing:2px;
  user-select:none;
}
.stars-bg,
.stars-fill{
  position:absolute;
  top:0; left:0;
  overflow:hidden;
  font-weight:700;
}
.stars-bg{ color:#e5e7eb; width:100%; }
.stars-fill{ color:#111827; width:0; }
.rating-number{ font-weight:700; color:#111827; font-size:14px; }

/* ===== Ліфлет-контроли нижче за сторісбар ===== */
.map-view-container .leaflet-top.leaflet-left {
  top: 88px;
}
